Title: 我們如何面對網站被駭
Category: 社會人士
Tags: 專題研究, 網站, 駭客
Author: code4future
是的, 我們週邊的幾個網站被駭了, 當用戶連結到這些網站, Google 趕忙提出警告, 讓用戶無法擷取網站的內容.

<!-- PELICAN_END_SUMMARY -->

這幾個網站是採用 Wordpress 建立的, 使用 MySQL 資料庫, 架構在 OpenShift 雲端平台之上, 被駭入的時間點大約在這個月份中旬, 儘管如此, 我們並沒有丟失任何資料, 因為我們早就在等著這一天.

OpenShift 雲端平台的使用或許簡單, 但是背後所運用的架構及流程相對複雜, 作為免費的 OpenShift 平台用戶, 我們沒有任何抱怨, 只在第1時間利用 Git 將平台上的資料 clone 到近端來分析, 試著想要找出那一個環節出了問題.

而在此之前, 我們的每一個網站資料內容都有動態與靜態等兩種格式, 大部分的內容都儘量保持同步, 而靜態的內容採用 Github Pages 與 Pelican 建置, 而且利用 Leo Editor 以程式方法加以管理, 在 Github 的倉儲下, 每一次提交推送版本都在遠端與近端各存一份, 而且還利用 git remote add, 放了另外一份同步的倉儲在 Bitbucket, 因此資料幾乎沒有丟失的可能.

好, 有了這樣萬全的準備, 我們還是想要知道, 駭客是如何攻陷這幾個網站的?

git clone OpenShift 平台網站的資料到近端簡單分析一下, 問題出在 .openshift 中的啟動碼, 而且只有大約一年之前所建立的 application 受到影響, 過去幾個月建立的應用程式則沒有受到影響.

有了這樣的發現, 利用 git rm -rf *, 在版本資料中刪除所有的資料, 只留下 .git, 然後用最新的 OpenShift 平台上的 Wordpress 倉儲檔案, 重新提交推送到 OpenShift, 就這樣蓋掉被駭客入侵的舊檔案, 應該算是暫時解決了網站被駭的問題.

然後呢?就是等著下一次網站再次被駭!再救, 再設法解決問題, 報告完畢.
